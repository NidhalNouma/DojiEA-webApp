(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86],{1579:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Settings",function(){return n(9223)}])},9223:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return S}});var r=n(5893),t=n(7294),a=n(7673),l=n(2269),o=n(4051),i=n.n(o),c=n(7322),u=n(9629),d=n(916),m=n(3873);function p(e,s,n,r,t,a,l){try{var o=e[a](l),i=o.value}catch(c){return void n(c)}o.done?s(i):Promise.resolve(i).then(r,t)}var x=function(){var e,s=(0,(0,u.ZP)().ChangePasswordHook)(),n=s.msg,a=s.error,l=s.npassword,o=s.cpassword,x=s.password,h=s.setNPassword,f=s.setCPassword,v=s.setPassword,b=s.submit;return(0,r.jsx)(t.Fragment,{children:(0,r.jsxs)("div",{className:"px-6 pb-4 space-y-6 lg:px-8 sm:pb-6 xl:pb-8",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-white",children:"Change your password"}),(0,r.jsx)(m.I,{label:"Current password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:o,setValue:f}),(0,r.jsx)(m.I,{label:"New password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:l,setValue:h}),(0,r.jsx)(m.I,{label:"Confirm password",type:"password",placeholder:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022",value:x,setValue:v}),(0,r.jsx)("div",{className:"",children:a&&(0,r.jsx)(d.z,{message:a})}),(0,r.jsx)("div",{className:"",children:n?(0,r.jsx)(d.A,{message:n}):(0,r.jsx)(c.q5,{className:"w-full rounded-lg",label:"Save changes",onClick:(e=i().mark((function e(){var s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:s=e.sent,console.log(s);case 4:case"end":return e.stop()}}),e)})),function(){var s=this,n=arguments;return new Promise((function(r,t){var a=e.apply(s,n);function l(e){p(a,r,t,l,o,"next",e)}function o(e){p(a,r,t,l,o,"throw",e)}l(void 0)}))})})})]})})},h=n(2395),f=n(8389),v=n(1422),b=n(8233),j=n(381),w=n.n(j),y=n(3801),g=n(4605),N=n(9929),P=n(3352);function k(e,s,n,r,t,a,l){try{var o=e[a](l),i=o.value}catch(c){return void n(c)}o.done?s(i):Promise.resolve(i).then(r,t)}function _(e,s,n){return s in e?Object.defineProperty(e,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[s]=n,e}function C(e){for(var s=1;s<arguments.length;s++){var n=null!=arguments[s]?arguments[s]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(s){_(e,s,n[s])}))}return e}function O(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var s,n,a=(0,u.SE)(),l=a.user,o=a.setUser,i=null===l||void 0===l||null===(s=l.stripe)||void 0===s||null===(n=s.subscription)||void 0===n?void 0:n.data;return(0,r.jsx)(t.Fragment,{children:(null===i||void 0===i?void 0:i.length)>0?i.map((function(e,s){return(0,r.jsx)(E,{i:e,user:l,setUser:o},s)})):(0,r.jsxs)(v.P1,{children:["You have no active membership click"," ",(0,r.jsx)(f.Y,{label:"here",href:"/Membership"})," to make a new one"]})})}function E(e){var s,n=e.i,a=e.user,o=e.setUser,c=(0,t.useState)(!1),u=c[0],d=c[1];return(0,r.jsxs)("div",{className:"py-2 px-1 border border-slate-500 rounded my-3 cursor cursor-pointer hover:bg-c1 flex items-center",children:[(0,r.jsxs)("div",{className:"flex flex-col mx-4 items-start w-full",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between min-w-full",children:[(0,r.jsxs)("span",{className:"text-lg font-bold text-teal-400 py-1",children:[(0,P.HJ)(n.plan.id)," Membership"]}),(0,r.jsx)(y.XHJ,{className:"w-4 h-4 text-c2",onClick:function(){return d(!0)}})]}),(0,r.jsxs)("span",{className:"text-slate-300 text-sm font-medium",children:["Renew"," ",(0,r.jsx)("span",{className:"text-sm text-slate-400",children:w()(1e3*n.current_period_end).format("MMMM Do YYYY")})]})]}),(0,r.jsx)(l.Z,{open:u,setOpen:d,children:(0,r.jsx)(g.Z,{title:"Cancel subscription",message:"Are you sure you want to cancel your subscription? All of your data will be permanently removed. This action cannot be undone.",close:function(){return d(!1)},onAgree:(s=i().mark((function e(){var s,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,N.EO)(n.id,a.customerId);case 2:(s=e.sent)&&(r=C({},a,{stripe:C({},a.stripe,{subscription:s})}),o(r),d(!1));case 4:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(r,t){var a=s.apply(e,n);function l(e){k(a,r,t,l,o,"next",e)}function o(e){k(a,r,t,l,o,"throw",e)}l(void 0)}))})})})]})}var S=function(){var e=(0,u.ZP)().signOutf,s=(0,u.SE)().user,n=(0,t.useState)(!1),o=n[0],i=n[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(a.Z,{}),(0,r.jsx)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"pt-12 pb-12 md:pt-20 md:pb-20",children:[(0,r.jsx)(h.H1,{label:"Settings"}),(0,r.jsxs)(Y,{label:"Account",className:"mt-2",children:[(0,r.jsx)(m.I,{type:"email",value:null===s||void 0===s?void 0:s.email,disabled:!0,label:"Your Email"}),(0,r.jsx)(v._,{label:"Your password"}),(0,r.jsxs)(v.P1,{children:["Click ",(0,r.jsx)(c.gl,{label:"here",onClick:function(){return i(!0)}})," to change your password"," "]}),(0,r.jsx)(l.Z,{open:o,setOpen:i,children:(0,r.jsx)(x,{})})]}),(0,r.jsx)(Y,{label:"Membership",children:(0,r.jsx)(O,{})}),(0,r.jsx)(Y,{label:"Payment methods",children:(0,r.jsx)(b.Z,{})}),(0,r.jsx)(c.tV,{label:"Sign out",onClick:e})]})})]})};function Y(e){var s=e.className,n=e.label,t=e.children;return(0,r.jsxs)("div",{className:s+" my-6 mx-6 sm:mx-40 bg-c2 rounded-lg p-3",children:[(0,r.jsx)(h.H4,{label:n,className:"ml-4"}),(0,r.jsx)("div",{className:"my-4 mx-6 lg:mx-40",children:t})]})}}},function(e){e.O(0,[885,1,101,673,702,774,888,179],(function(){return s=1579,e(e.s=s);var s}));var s=e.O();_N_E=s}]);